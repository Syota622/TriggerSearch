# TriggerSearch（trigs）設計書（v3）

## アプリ概要

| 項目 | 内容 |
|------|------|
| アプリ名 | TriggerSearch |
| 略称 | trigs |
| 目的 | 「頭痛」「アレルギー」などの症状の原因（トリガー）を発見する |
| 設計方針 | お年寄りでも使える超シンプルなUI、複雑性は一切排除 |

---

## 機能一覧

### 毎日の記録（入力）

| 機能 | 説明 |
|------|------|
| 症状記録 | 「頭痛」「アレルギー」が起きたか（あり/なし） |
| 睡眠記録 | 何時間寝たか（スライダーで選択） |
| 天気記録 | 晴れ/曇り/雨/雪 + カスタム追加可能 |
| 気温記録 | 暑い/暖かい/涼しい/寒い + カスタム追加可能 |
| 食事記録 | 食べたものをアイコンで選択 + カスタム追加可能 |

### カレンダー機能

| 機能 | 説明 |
|------|------|
| 月表示 | カレンダー形式で記録状況を一覧表示 |
| 記録確認 | 日付タップで過去の記録を確認 |
| 記録編集 | 過去の記録を修正可能 |
| 記録削除 | 不要な記録を削除可能 |
| 症状表示 | 記録済みの日に症状アイコン（🤕🤧）を表示 |

### カスタム項目

| 機能 | 説明 |
|------|------|
| 項目追加 | 天気・気温・食べ物に自分だけの項目を追加 |
| アイコン選択 | 絵文字から選んで設定 |
| 項目削除 | 設定画面から追加した項目を削除可能 |

### 分析（自動）

| 機能 | 説明 |
|------|------|
| トリガー分析 | 蓄積データから症状の原因を自動推測 |
| 結果表示 | 「〇〇を食べた日は頭痛が多い」などシンプルに表示 |
| データ不足表示 | 7日未満の場合「もう少し記録がたまると原因がわかります」と表示 |

### 通知（リマインダー）

| 機能 | 説明 |
|------|------|
| 夜の通知 | 設定した時間に「今日の調子はどうでしたか？」と通知 |
| 時間設定 | 20:00 / 21:00 / 22:00 から選択 |
| ON/OFF | ユーザーが自由に切り替え可能 |

---

## 画面構成（5画面）

| 画面 | 説明 |
|------|------|
| ホーム画面 | 今日の記録・カレンダー・原因を見る・設定への導線 |
| カレンダー画面 | 月別カレンダー、日付タップで記録画面へ |
| 記録画面 | 症状・睡眠・天気・気温・食事の入力、編集時は削除も可能 |
| 結果画面 | トリガー分析結果 or データ不足メッセージ |
| 設定画面 | 通知設定・カスタム項目管理・データ管理 |

---

## 画面フロー

```
ホーム画面
├── 📝 今日の記録 → 記録画面（新規）→ 保存 → ホーム
├── 📅 カレンダー → カレンダー画面
│       └── 日付タップ → 記録画面（確認/編集）→ 更新/削除 → カレンダー
├── 🔍 原因を見る → 結果画面 → ホーム
└── ⚙️ 設定 → 設定画面 → ホーム
```

---

## UI設計方針

| 方針 | 理由 |
|------|------|
| ボタンは大きく | お年寄りでも押しやすい |
| 文字は大きく | 読みやすさ重視 |
| 色は意味を持たせる | オレンジ=行動、緑=結果/選択中、赤=あり、青=なし |
| 入力は選択式 | キーボード入力を最小限に |
| カスタム追加可能 | 個人の状況に合わせて項目を追加 |
| カレンダーで確認 | 過去の記録を簡単に確認・修正 |

---

## カラーパレット

| 用途 | 色 | コード |
|------|-----|--------|
| プライマリ（行動） | オレンジ | #FF8C66 |
| セカンダリ（結果/選択） | ミントグリーン | #4ECDC4 |
| 症状あり | ソフトレッド | #FF6B6B |
| 症状なし | ソフトブルー | #4A90D9 |
| 背景 | クリーム | #FFFBF7 |
| テキスト | ダークグレー | #2D3748 |

---

## デフォルト項目

### 天気

| id | name | icon |
|----|------|------|
| sunny | 晴れ | ☀️ |
| cloudy | 曇り | ☁️ |
| rainy | 雨 | 🌧️ |
| snowy | 雪 | ❄️ |

### 気温

| id | name | icon |
|----|------|------|
| hot | 暑い | 🥵 |
| warm | 暖かい | 😊 |
| cool | 涼しい | 🧥 |
| cold | 寒い | 🥶 |

### 食べ物

| id | name | icon | category |
|----|------|------|----------|
| bread | パン・小麦 | 🍞 | 穀物 |
| milk | 乳製品 | 🥛 | 乳製品 |
| egg | 卵 | 🥚 | 卵 |
| meat | 肉 | 🍖 | 肉類 |
| fish | 魚 | 🐟 | 魚介類 |
| rice | ごはん | 🍚 | 穀物 |
| noodle | 麺類 | 🍜 | 穀物 |
| vegetable | 野菜 | 🥬 | 野菜 |
| fruit | 果物 | 🍎 | 果物 |
| sweets | お菓子 | 🍰 | 菓子 |
| coffee | コーヒー | ☕ | 飲料 |
| alcohol | お酒 | 🍺 | 飲料 |

---

## 技術スタック（推奨）

| レイヤー | 技術 |
|---------|------|
| フロントエンド | React Native |
| バックエンド | Python + FastAPI |
| データベース | PostgreSQL（DBサーバーはRDS）|
| プッシュ通知 | Firebase Cloud Messaging |
| ホスティング | AWS |

---

## 今後の拡張案（将来）

| 機能 | 説明 |
|------|------|
| 天気自動取得 | 位置情報から天気を自動入力 |
| 症状の追加 | 頭痛・アレルギー以外も追加可能に |
| AIによる分析強化 | より高度なパターン認識 |
| 医師への共有機能 | 記録データをPDFで出力 |

---

## 開発フェーズ

| フェーズ | 内容 | 期間目安 |
|---------|------|---------|
| Phase 1 | DB設計・API基本実装 | 1週間 |
| Phase 2 | 記録機能・カレンダー機能 | 1週間 |
| Phase 3 | 分析機能・通知機能 | 1週間 |
| Phase 4 | カスタム項目・UI調整・テスト | 1週間 |

---

以上
